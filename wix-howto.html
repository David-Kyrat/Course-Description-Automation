<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>wix-howto</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="github-markdown.css" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="C:\\Users\\noahm\\OneDrive\\Prog-Projects\\Shell-Pwsh_Scripts\\md_convert\\github-markdown.css">
  <link rel="stylesheet" href="C:\\Users\\noahm\\OneDrive\\Prog-Projects\\Shell-Pwsh_Scripts\\md_convert\\github-markdown-light.css">
  <style>
      .markdown-body {
          box-sizing: border-box;
          min-width: 200px;
          max-width: 980px;
          margin: 0 auto;
          padding: 45px;
      }

      @media (max-width: 767px) {
          .markdown-body {
              padding: 15px;
          }
      }

      @media print {
          h1, h2 { page-break-before: always; }
          h1, h2, h3, h4, h5, h6 { page-break-after: avoid; }
          ol, ul, li, div { page-break-inside: avoid; }
      }
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<article class="markdown-body">
<h1 id="wix-how-to-structure">Wix how to structure</h1>
<p>A component belongs to a a <code>Directory</code> we define it in a
<code>&lt;DirectoryRef&gt;</code> tag. So its like.</p>
<h3 id="dir-def">Dir def</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode XML"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a> &lt;<span class="kw">Directory</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span><span class="ot"> Name=</span><span class="st">&quot;&quot;</span>&gt;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>   &lt;<span class="kw">directory</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span><span class="ot"> Name=</span><span class="st">&quot;&quot;</span>&gt;</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>     &lt;<span class="kw">directory</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span><span class="ot"> Name=</span><span class="st">&quot;&quot;</span>&gt;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>     <span class="er">&lt;</span>.../&gt;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>   <span class="er">&lt;</span>.../&gt;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> &lt;<span class="kw">Directory</span>/&gt;</span></code></pre></div>
<h3 id="dirref">DirRef</h3>
<p>Then we have the components def in
<code>&lt;DirectoryRef Id&gt;</code> in which we define the component in
which we define what's in it (e.g. a file).</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode XML"><code class="sourceCode xml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">DirectoryRef</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span>&gt;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">Component</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span><span class="ot"> Guid=</span><span class="st">&quot;&quot;</span>&gt;</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>         &lt;<span class="kw">File</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span><span class="ot"> Name=</span><span class="st">&quot;&quot;</span><span class="ot"> Source=</span><span class="st">&quot;&quot;</span>&gt; &lt;/<span class="kw">File</span>&gt;</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">Component</span>&gt;</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">DirectoryRef</span>&gt;</span></code></pre></div>
<p>Note a component can also be smth more complex, e.g.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode XML"><code class="sourceCode xml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">DirectoryRef</span><span class="ot"> Id=</span><span class="st">&quot;_res112800xxx&quot;</span>&gt;</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">Component</span><span class="ot"> Id=</span><span class="st">&quot;_res112800xxxPathC&quot;</span><span class="ot"> Guid=</span><span class="st">&quot;f6b57254-bcfc-4814-88e0-6ec8ec46ac7f&quot;</span>&gt;</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">CreateFolder</span> /&gt;</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">Environment</span><span class="ot"> Id=</span><span class="st">&quot;COURSE_DESCRIPTION_AUTOMATION_HOME&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ot">            Name=</span><span class="st">&quot;COURSE_DESCRIPTION_AUTOMATION_HOME&quot;</span><span class="ot"> Value=</span><span class="st">&quot;[INSTALLDIR]&quot;</span><span class="ot"> Permanent=</span><span class="st">&quot;no&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ot">            Action=</span><span class="st">&quot;set&quot;</span><span class="ot"> System=</span><span class="st">&quot;no&quot;</span> /&gt;</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">Environment</span><span class="ot"> Id=</span><span class="st">&quot;PATH&quot;</span><span class="ot"> Name=</span><span class="st">&quot;PATH&quot;</span><span class="ot"> Value=</span><span class="st">&quot;[INSTALLDIR]res&quot;</span><span class="ot"> Permanent=</span><span class="st">&quot;no&quot;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="ot">            Part=</span><span class="st">&quot;last&quot;</span><span class="ot"> Action=</span><span class="st">&quot;set&quot;</span><span class="ot"> System=</span><span class="st">&quot;no&quot;</span> /&gt;</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">Component</span>&gt;</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">DirectoryRef</span>&gt;</span></code></pre></div>
<p>I have no idea whether it only works for some kind of specific
variable but we don't really care since the goal of this document is to
just show whats mandatory when we want to add new stuff an
installer.</p>
<h3 id="features">Features</h3>
<p>Now we have to define <code>features</code> and reference
<strong>each single</strong> <code>component</code> in those feature
with a <code>ComponentRef</code>. Each declared component
<strong>has</strong> to be referenced in a feature (wheather its
actually useful or not).</p>
<p>A feature is a "branch" that we can opt in are out (with a checkbox)
during installation.</p>
<p>At some point we'll get a screen with a tree of feature to install,
it this those. (Feature can be nested).</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode XML"><code class="sourceCode xml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">Feature</span><span class="ot"> Id=</span><span class="st">&quot;Complete&quot;</span><span class="ot"> Title=</span><span class="st">&quot;Project files&quot;</span><span class="ot"> Description=</span><span class="st">&quot;All the mandatory files for the project to run.&quot;</span>&gt;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">ComponentRef</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span> /&gt;</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">ComponentRef</span><span class="ot"> Id=</span><span class="st">&quot;&quot;</span> /&gt;</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    .</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    .</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    .</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">Feature</span>&gt;</span></code></pre></div>
<h2 id="summary">Summary</h2>
<p>When we want to add, say a dir with new resource, to the installer,
we have to create:</p>
<ul>
<li><p>A <code>&lt;Directory&gt;</code> if necessary
<code>(id, name)</code></p></li>
<li><p>A <code>&lt;DirectoryRef&gt;</code> to put components in it
<code>(id)</code></p></li>
<li><p>A <code>&lt;Component&gt;</code> in the
<code>&lt;DirectoryRef&gt;</code> <code>Id, guid</code></p></li>
<li><p>A <code>&lt;ComponentRef&gt;</code> <code>(Id)</code></p></li>
<li><p>A <code>&lt;File&gt;</code> for each file. in the
<code>&lt;ComponentRef&gt;</code>, <code>(Id, name, source)</code>
(source is the path to the file)</p></li>
</ul>
<p>Example structure</p>
<pre><code>  ├ ﰠ  Directory              
  │ ├ ﰠ  Directory            
  │ │ └ ﰠ  Directory          
  │ └ ﰠ  Directory            
  │   └ ﰠ  Directory          
  │     └ ﰠ  Directory        
  │       └ ﰠ  Directory      
  │         ├ ﰠ  Directory    
  ├ ﰠ  DirectoryRef           
  │ └ ﰠ  Component            
  │   └ ﰠ  File               
  ├ ﰠ  DirectoryRef           
  │ └ ﰠ  Component            
  │   └ ﰠ  File               
  ├ ﰠ  DirectoryRef           
  │ └ ﰠ  Component            
  │   └ ﰠ  File               
  ├ ﰠ  DirectoryRef           
  │ └ ﰠ  Component            
  │   └ ﰠ  File               
  ├ ﰠ  Feature                
  │ ├ ﰠ  ComponentRef         
  │ ├ ﰠ  ComponentRef         
  │ ├ ﰠ  ComponentRef 
  ...</code></pre>
</article>
</body>
</html>
